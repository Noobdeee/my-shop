<style>
/* --- Professional UI --- */
.card {
  background: white;
  border-radius: 14px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.12);
}

.card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  background: #eee;
}

.card .info {
  padding: 12px;
  display: none; /* Hidden initially */
}

.card.show .info {
  display: block; /* Show on click */
}

.card .info input,
.card .info textarea {
  width: 100%;
  margin-top: 6px;
  padding: 6px;
  border: 1px solid #ddd;
  border-radius: 6px;
}

.card .info button {
  width: 100%;
  margin-top: 8px;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: #111;
  color: white;
  font-weight: 600;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(180px,1fr));
  gap: 20px;
  padding: 20px;
}
</style>

<script>
function renderProducts() {
  const list = document.getElementById("productList");
  list.innerHTML = "";

  products.forEach((p, i) => {
    const card = document.createElement("div");
    card.className = "card";

    // Build the card HTML
    card.innerHTML = `
      <img src="${p.image || ''}" id="preview-${i}">
      <div class="info">
        <input id="name-${i}" value="${p.name || ''}" placeholder="Name" ${adminMode ? '' : 'readonly'}>
        <textarea id="description-${i}" placeholder="Description" ${adminMode ? '' : 'readonly'}>${p.description || ''}</textarea>
        ${adminMode ? `<label>Paste Image URL:</label>
        <input id="imageUrl-${i}" value="${p.image || ''}" placeholder="https://...">
        <label>Or choose file from device:</label>
        <input type="file" id="file-${i}" onchange="previewImage(event, ${i})">
        <input id="stock-${i}" value="${p.stock || ''}" placeholder="Stock">
        <input id="price-${i}" value="${p.price || ''}" placeholder="Price">
        <button onclick="event.stopPropagation(); saveProduct(${i})">Save</button>` : `
        <p><b>Price:</b> ${p.price || '-'}</p>
        <p><b>Stock:</b> ${p.stock || '-'}</p>
        `}
      </div>
    `;

    // Toggle info on click
    card.onclick = () => {
      card.classList.toggle("show");
    };

    list.appendChild(card);
  });
}
</script>
